<!doctype html>
<html lang="en">
  <head>
    <title>covid19 test</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      
    <!-- font-awesome link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lusitana&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" />
    <!-- ******style.css link ******* -->
    <link rel="stylesheet" href="style.css">
    <!-- font awesome link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  
  </head>
  <body>
    <div class="header-div">
      <nav class="navbar navbar-expand-lg navbar-light bg-transparent">
        <div class="container">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand text-black text-capitalize" href="#">stay <i class="fas fa-3x fa-street-view"></i> home</a>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
          <ul class="navbar-nav ml-auto text-center text-uppercase mt-2 mt-lg-0">
            <li class="nav-item active">
              <a class="nav-link" href="#"><i class="fas fa-home"></i> Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"> <i class="fas fa-globe-europe"></i> country wise</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">...</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">...</a>
            </li>
           
          </ul>
         
        </div>
      </div>
      </nav>
      <section class="summary-div">
        <div class="center-div text-capitalize">
            <h1> overall india report</h1>
          <div class="report-div">

          <p>total cases in india:
            <span id="total" class="text-danger">loading...</span>
          </p> 

          <p >total discharged in india:
          <span id="discharged" class="text-success">loading...</span>
        </p> 

        <p>total confirmed CasesIndian :
          <span id="confirmedCasesIndian">loading...</span>
        </p>
             
        <p>total confirmed CasesForeign :
          <span id="confirmedCasesForeign">loading...</span>
        </p>

        <p>total deaths cases in india:
          <span id="deaths" class="text-danger ">loading...</span>
        </p>
        </div>
        <div class="update-time">
          <p>last-Refreshed Time:
          <span id="lastRefreshed">loading...</span>
        </p>
        <p>last-OriginUpdate Time:
          <span id="lastOriginUpdate">loading...</span>
        </p>
        </div> 
           
        </div>
      </section>
    </div>
    <!-- *********carousel part start********** -->
    <section class="carousel-div">
      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="image1.jpg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="image2.png" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="image3.webp" class="d-block w-100" alt="...">
          </div>
        </div>
        
      </div>

    </section>
    <!-- ***********carousel part end******** -->

    <!-- ************table-part start******** -->
    <section class="state-div">
      <h1 class="text-decoration-underline">(state and ut)-wise <i class="fas fa-hospital-alt"></i>report </h1>
      <div class="container">
        <div class="row">
          <div class="col-lg-12 col-10 offset-lg-0 offset-1">
            <div class="table-div">
            <table class="table">
              <thead class="text-capitalize">
                <tr>
                  <th>no.</th>
                  <th>location </th>
                  <th>Total Hospital </th>
                  <th>discharge</th>
                  <th>CasesIndian</th>
                  <th>totalConfirmed</th>
                  
                </tr>
              </thead >
              <tbody class="showbtn" id="show">

              </tbody>

            </table>
            </div>
          </div>
         

        </div>
        <div id="btn-div">
          <div class="child-btn">
            <button class="btn btn-primary" id="hospital">click here for more information</button>
          </div>

        </div>
        <div class="show-data text-center text-capitalize">
          <h1 class=" text-capitalize">summary of hospiat and beds in india</h1>
          <p>total hospital: <span class="totalhospital"></span></p>
          <p>total beds: <span class="totalBed"></span></p>
          <p>urban hospitals: <span class="urbanhospital"></span></p>
          <p>urban beds: <span class="urbanbed"></span></p>
          <p>rural Hospital: <span class="ruralHospital"></span></p>
          <p>rural Bed: <span class="ruralBed"></span></p>
         
        </div>
        
      </div>

    </section>

    <!-- ************table-part end******** -->

    <!-- ************hospital table start********** -->
    <section class="hospital-div">
        <h1 class="text-center text-capitalize">(state and ut)-wise <i class="fas fa-hospital"></i>hospitals and <i class="fas fa-procedures"></i>beds details</h1>
        <div class="container">
          <div class="row">
            <div class="col-lg-12 col-10 offset-lg-0 offset-1">
              <div class="table-div">
                <table class="table table-hover table-striped  table-bordered">
                  <thead class="text-capitalize text-center ">
                    <tr>
                      <th>no.</th>
                      <th>state</th>
                      <th>totalHospitals</th>
                      <th>totalBeds</th>
                      <th>urbanHospitals</th>
                      <th>urbanBeds</th>
                      <th>ruralHospitals</th>
                      <th>ruralBeds</th>
                      
                    </tr>
                  </thead >
                  <tbody class="statedata text-center">

                  </tbody>
                </table>  
              </div>
            </div>
          </div>
        </div>
        
     </section>

     <!-- **********hospital table end********* -->



     <!-- *************country covid data div start*********** -->
     <section class="country-div">
       <h1 class="text-center text-capitalize"><i class="fas fa-clinic-medical"></i> <span class="nametitle">country wise</span> report</h1>
       <div class="container">
         <div class="row">
           <div class="col-lg-12 col-8 offset-lg-0 offset-2">
             <div class="search-bar">
              <i class="fas fa-2x fa-search"></i>
               <input type="search" placeholder="search country name" id="text">
               
               <div class="btn-div">
                <i class="fas fa-globe-europe"></i><button id="btnclick">click here</button>
               </div>
             </div>
           </div>
         </div>
         <div class="row">
           <div class="col-lg-12 col-10 offset-lg-0 offset-1">
             <div class="show-box text-capitalize">
               <div class="countrydata col-lg-12 col-12">
               <h1><span class="country-code text-uppercase"></span></h1>
               <!-- <h3>country-population: <span class="country-populationmain">loading...</span></h3> -->
               <p>active cases: <span class="country-population">loading...</span></p>
              <p>confirmed cases: <span class="confirmed">loading...</span></p>
              <p>deaths: <span class="deaths">loading...</span></p>
              <p>recovered: <span class="recovered">loading...</span></p>
              <p>cases-PerOneMillion: <span class="latitude">loading...</span></p>
              <p>deaths-PerOneMillion: <span class="longitude">loading...</span></p>
              <p>tests-PerOneMillion: <span class="testsPerOneMillion">loading...</span></p>
              <p>today-Cases: <span class="todayCases">loading...</span></p>
              <p>today-Deaths: <span class="todayDeaths">loading...</span></p>
              <h3>total-Tests: <span class="totalTests">loading...</span></h3>
            </div>
            <div class="flagdiv">
              <img src=""  alt="" class="image">
            </div>
           
             </div>
           </div>
           

         </div>


         <div class="latest-div text-center text-capitalize">
           <div class="row">
             <div class="col-lg-12 col-8 offset-lg-0 offset-2">
               <div class="show-div">
                 <h1>over-all data </h1>
                 <p>active cases<span class="worldactive"></span></p>
                 <p>cases<span class="worldcases"></span></p>
                 <p>critical cases<span class="worldcritical"></span></p>
                 <p>recovered cases<span class="worldrecovered"></span></p>
                 <p>deaths <span class=" worlddeaths"></span></p>
                 <p>today-Cases <span class="worldtodayCases"></span></p>
                 <p>today-Deaths <span class="worldtodayDeaths"></span></p>
               </div>
             </div>
           </div>
          </div>
         </div>
       </div>
     </section>
          <!-- *************country covid data div end*********** -->

          <!-- <section class="message-div">
            <div class="container">
              <div class="row">
                <div class="col-lg-12 col-8 offset-lg-0 offset-2">
                  <div class="messagebox">
                    <img src="./image3.jpg" alt="">
                  </div>
                </div>
              </div>
            </div>
          </section> -->



      
    
      

      <script>
        let total1=document.getElementById('total');
        let discharged1=document.getElementById('discharged');
        let confirmedCasesIndian1=document.getElementById('confirmedCasesIndian');
        let confirmedCasesForeign1=document.getElementById('confirmedCasesForeign');
        let deaths1=document.getElementById('deaths');
        let lastRefreshed1=document.getElementById('lastRefreshed');
        let lastOriginUpdate1=document.getElementById('lastOriginUpdate');


        // **********btn part start*******
        let btn=document.getElementById('hospital');

        btn.addEventListener('click',()=>{

          let showdata=document.querySelector('.show-data');
          let hospitaldiv=document.querySelector('.hospital-div');
          if(showdata.style.display==="none" || hospitaldiv.style.display==="none")
          {
            showdata.style.display="block";
            hospitaldiv.style.display="block";
            
          }
          else{
            showdata.style.display="none";
            
          }

          let totalhospital=document.querySelector('.totalhospital');
          let totalbed=document.querySelector('.totalBed');
          let urbanhospital=document.querySelector('.urbanhospital');
          let urbanbed=document.querySelector('.urbanbed');
          let ruralHospital=document.querySelector('.ruralHospital');
          let ruralBed=document.querySelector('.ruralBed');

          setTimeout(()=>{
            showdata.style.display="none"
          },10000)

          
          const hospital=async()=>{
         
            let statedate=document.querySelector('.statedata');
          const res= await fetch(`https://api.rootnet.in/covid19-in/hospitals/beds`);
          const datahospital= await res.json();
          
          let {data, lastRefreshed,lastOriginUpdate}=datahospital;
          
          let {summary,sources,regional}=data;
          // console.log(summary)
          let {ruralBeds,ruralHospitals,totalBeds,totalHospitals,urbanBeds,urbanHospitals}=summary;
          // console.log(urbanHospitals);
          totalhospital.innerHTML=totalHospitals;
          totalbed.innerHTML=totalBeds;
          urbanhospital.innerHTML=urbanHospitals;
          urbanbed.innerHTML=urbanBeds;
          ruralHospital.innerHTML=ruralHospitals;
          ruralBed.innerHTML=ruralBeds;
          // console.log(regional);
          let statedate1=regional;
           statedate1.pop();
           
          if(0<statedate1.length)
          {
          let hospitaltabel="";
          statedate1.forEach((ele,index)=>{
            
            hospitaltabel+=`<tr>`;
            hospitaltabel+=`<td> ${(index+2)-1}</td>`;
            hospitaltabel+=`<td> ${ele.state}</td>`;
            hospitaltabel+=`<td> ${ele.totalHospitals}</td>`;
            hospitaltabel+=`<td> ${ele.totalBeds}</td>`;
            hospitaltabel+=`<td> ${ele.urbanHospitals}</td>`;
            hospitaltabel+=`<td> ${ele.urbanBeds}</td>`;
            hospitaltabel+=`<td> ${ele.ruralHospitals}</td>`;
            hospitaltabel+=`<td> ${ele.ruralBeds}</td>`;
            hospitaltabel+=`</tr>`;

          })
          statedate.innerHTML=hospitaltabel;
        }
    
        }
        hospital()

        })

        
        // ***********btn part end***********
       

        


        //  ***************first table start**********
             const covid =async()=>{
       
        const res= await fetch(`https://api.rootnet.in/covid19-in/stats/latest`);
       
        const data1= await res.json();
        // console.log(data1) 
        let {success,data, lastRefreshed, lastOriginUpdate}=data1;
     
        
        let {summary,regional}=data;
        
         
        let {total,confirmedCasesIndian,confirmedCasesForeign,discharged,deaths} =summary;
       
        total1.innerHTML=total;
        discharged1.innerHTML=discharged;
        confirmedCasesIndian1.innerHTML=confirmedCasesIndian;
        confirmedCasesForeign1.innerHTML=confirmedCasesForeign;
        deaths1.innerHTML=deaths;
        lastRefreshed1.innerHTML=lastRefreshed
        lastOriginUpdate1.innerHTML=lastOriginUpdate;


          if(0<regional.length){
            
            
            let table="";
            regional.forEach((ele,index)=>{
             
              
              table+="<tr>";
              table+="<td>"+((index+2)-1)+"</td>"
              table+="<td>"+ele.loc+"</td>";
              table+="<td>"+ele.deaths+"</td>"
              table+="<td>"+ele.discharged+"</td>";
              table+="<td>"+ele.confirmedCasesIndian+"</td>";
              table+="<td>"+ele.totalConfirmed+"</td>";
          });
          document.getElementById('show').innerHTML=table;
         }

        
        
     }
     covid();
      //  ***************first table end**********


      // *********country part start here*********
      let btn1=document.querySelector('#btnclick');
      let text1=document.querySelector('#text');
      text1.addEventListener('keyup',(event)=>{
       if(event.keyCode===13){
         btn1.click();
       }
      })
      btn1.addEventListener('click',()=>{

      
      let text=text1.value;
      let nametitle=document.querySelector('.nametitle');
      let countryname=document.querySelector('.country-code');
      let activecases=document.querySelector('.country-population');
      let confirmed=document.querySelector('.confirmed');
      let deaths=document.querySelector('.deaths');
      let recovered=document.querySelector('.recovered');
      let casesPerOneMillion=document.querySelector('.latitude');
      let deathsPerOneMillion=document.querySelector('.longitude');
      let testsPerOneMillion=document.querySelector('.testsPerOneMillion');
      let todayCases=document.querySelector('.todayCases');
      let todayDeaths=document.querySelector('.todayDeaths');
      let totalTests=document.querySelector('.totalTests');
      
      
      

      // **********country covid report api work here*******
      let showdata=document.querySelector('.show-box')
     
      const countrycovid=async()=>{
        const res=await fetch(`https://coronavirus-19-api.herokuapp.com/countries/${text}`);
        const data=await res.json();
        // console.log(data)
        let array=[];
        array.push(data);
       array.forEach((ele)=>{
        //  console.log(ele)
             countryname.innerHTML=`"${ele.country}"`;   
            activecases.innerHTML=`"${ele.active}"`;
             confirmed.innerHTML=`"${ele.cases}"`;    
             deaths.innerHTML=`"${ele.deaths}"`; 
             recovered.innerHTML=`"${ele.recovered}"`;
             casesPerOneMillion.innerHTML=`"${ele.casesPerOneMillion}"`;   
             deathsPerOneMillion.innerHTML=`"${ele. deathsPerOneMillion}"`; 
             testsPerOneMillion.innerHTML=`"${ele. testsPerOneMillion}"`;     
             todayCases.innerHTML=`"${ele. todayCases}"`;  
             todayDeaths.innerHTML=`"${ele.todayDeaths}"`; 
             totalTests.innerHTML=`"${ele.totalTests}"`; 
             
              
          
       })
       
      }
      // function collection(data){
      //     console.log(data)
      //     countrypopulationmain.innerHTML=`"${data[1].population}"`;  

          
      //   }
      
      countrycovid();

    

   

    // **********flag api work here********
      let flagcontainer=document.querySelector('.show-box');

      const flag=async()=>{
        const res= await fetch(`https://restcountries.eu/rest/v2/name/${text}`);
        const data=await res.json();
        // console.log(data)
      
        
        // let countrypopulationmain=document.querySelector('.country-populationmain');
        var imagediv=document.querySelector('.flagdiv');
        if(imagediv.style.display==="none")
        {
          imagediv.style.display="block";

        }
        else{
          imagediv.style.display="block";
        }

         
       
        

        switch (text)
        {
          case "india":
          var image=document.querySelector('.image').src=data[1].flag;
          // imagediv.appendChild(image);
          // countrypopulationmain.innerHTML=data[1].population;
          
          

          imagediv.insertAdjacentHTML('beforebegin',image);

            break;

            case "china":
          var image=document.querySelector('.image');
          var mainimage=image.src=data[0].flag;
          // imagediv.appendChild(image)
         

            // countrypopulationmain.innerHTML=data[0].population;
         
          imagediv.insertAdjacentHTML('beforebegin',image);
         

          break;



            default:
            data.forEach((ele)=>{
            var image=document.querySelector('.image').src=ele.flag;
            // imagediv.appendChild(image);
            
           
            imagediv.insertAdjacentHTML('beforebegin',image);
            
         
        })


        }
       



      }
      flag();

      

    });
      // <!-- ***********country part end here****************** -->


      // ************overall latest data start here*************
      // <p>active cases<span class="active"></span></p>
      //            <p>cases<span class="cases"></span></p>
      //            <p>critical cases<span class="critical"></span></p>
      //            <p>recovered cases<span class="recovered"></span></p>
      //            <p>deaths <span class="deaths"></span></p>
      //            <p>today-Cases <span class="todayCases"></span></p>
      //            <p>today-Deaths <span class="todayDeaths"></span></p>
      


      let activecasses=document.querySelector('.worldactive');
   
      let cases=document.querySelector('.worldcases');
      let criticalcases=document.querySelector('.worldcritical');
      let recoveredcases=document.querySelector('.worldrecovered');
      let worlddeaths=document.querySelector('.worlddeaths');
      let todayCases1=document.querySelector('.worldtodayCases');
      let todayDeaths1=document.querySelector('.worldtodayDeaths');


      const overalldata=async()=>{
      const res=await fetch(`https://coronavirus-19-api.herokuapp.com/countries`);
        const data=await res.json();
        // console.log(data[0]);
       let array=[];
       array.push(data[0]);
      //  console.log(array);
       array.forEach((ele)=>{
        //  console.log(ele)
         activecasses.innerHTML=`"${ele.active}"`;
         cases.innerHTML=`"${ele.cases}"`;
         criticalcases.innerHTML=`"${ele.critical}"`;
         recoveredcases.innerHTML=`"${ele.recovered}"`;
         worlddeaths.innerHTML=`"${ele.deaths}"`;
         todayCases1.innerHTML=`"${ele.todayCases}"`;
         todayDeaths1.innerHTML=`"${ele.todayDeaths}"`;

       })
      }
      overalldata();



      // ************overall latest data end here*************
      
     
      </script>
      
      
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  </body>
</html>

